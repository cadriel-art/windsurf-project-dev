function getConfig(){const e="draft"===new URLSearchParams(window.location.search).get("preview")?"draft":"live";return window.SiteTemplate?.loadConfig?window.SiteTemplate.loadConfig({mode:e}):{elements:["electric","fire","water","alien"],projects:[],brand:{logoText:"CM",siteTitle:document.title},hero:{headline:"AI Developer",typingText:"Building the future with code & intelligence",description:"",ctaText:"View Projects",ctaHref:"#projects"},contact:{title:"",subtitle:"",email:"hello@example.com",ctaText:"Get in Touch"}}}function sanitizeHTML(e){if("string"!=typeof e)return"";let t=e.replace(/<script[^>]*>.*?<\/script>/gi,"");return t=t.replace(/on\w+="[^"]*"/gi,""),t=t.replace(/on\w+='[^']*'/gi,""),t=t.replace(/on\w+=[^>\s]*/gi,""),t}function scrollToHashIfPresent(){const e=window.location.hash;if(!e||"#"===e)return;const t=document.querySelector(e);t&&t.scrollIntoView({behavior:"smooth",block:"start"})}function el(e,t){const n=document.createElement(e);return t&&(n.className=t),n}function getMode(){return"draft"===new URLSearchParams(window.location.search).get("preview")?"draft":"live"}function getActivePageSlug(e){const t=new URLSearchParams(window.location.search).get("page");if("string"==typeof t&&t.trim())return t.trim().toLowerCase();const n=Array.isArray(e?.pages)?e.pages[0]:null;return(n?.slug||"home").toLowerCase()}function buildHrefWithMode(e,t){if("string"!=typeof e)return"#";if(e.startsWith("#"))return e;if(e.startsWith("mailto:"))return e;if(e.startsWith("tel:"))return e;if("draft"!==t)return e;const n=new URL(e,window.location.href);return n.searchParams.set("preview","draft"),n.pathname+n.search+n.hash}function renderMenuFromConfig(e,t){const n=document.getElementById("nav-links");if(!n)return;let o=Array.isArray(e?.menu?.primary)?[...e.menu.primary]:[];o.length||(o=[{type:"page",slug:"home",label:"Home"},{type:"anchor",href:"#projects",label:"Projects"},{type:"page",slug:"about",label:"About"},{type:"anchor",href:"#contact",label:"Contact"}]);const a=["home","projects","about","contact"];function i(e,t){const n="string"==typeof e?.slug?e.slug.toLowerCase():"",o="string"==typeof e?.href?e.href.toLowerCase():"";return"home"===n||"./?page=home"===o||"#home"===o?0:"projects"===n||"#projects"===o?1:"about"===n||"#about"===o?2:"contact"===n||"#contact"===o?3:a.length+t}o=o.map((e,t)=>({item:e,idx:t,rank:i(e,t)})).sort((e,t)=>e.rank===t.rank?e.idx-t.idx:e.rank-t.rank).map(e=>e.item);const r=getActivePageSlug(e);n.innerHTML="",o.forEach(e=>{const o=document.createElement("a");o.className="nav-link";const a="string"==typeof e?.label?e.label:"Link";if(o.textContent=a,"page"===e?.type){const n=(e.slug||"home").toLowerCase();o.href="about"===n&&"home"===r?"#about":buildHrefWithMode(`./?page=${encodeURIComponent(n)}`,t),n===r&&o.classList.add("active")}else{const n=e?.href||"#";"string"==typeof n&&n.startsWith("#")?o.href="home"===r?n:buildHrefWithMode(`./?page=home${n}`,t):o.href=buildHrefWithMode(n,t)}n.appendChild(o)});const c=document.createElement("a");c.className="nav-link",c.href="./admin.html",c.textContent="Admin",n.appendChild(c)}function setHomeVisibility(e){const t=document.querySelector(".hero"),n=document.getElementById("about");[t,document.getElementById("projects"),n,document.getElementById("contact"),document.querySelector(".footer")].forEach(t=>{t&&(t.style.display=e?"":"none")})}const FALLBACK_CAPABILITIES_ITEMS=[{icon:"âš›ï¸",title:"React"},{icon:"TS",title:"TypeScript"},{icon:"ðŸ› ï¸",title:"Full-Stack"},{icon:"ðŸ¤–",title:"AI/ML"},{icon:"â›“ï¸",title:"Microservices"},{icon:"âš¡",title:"Real-time"},{icon:"ðŸ“Š",title:"Data Viz"},{icon:"ðŸŽ¨",title:"Design"},{icon:"ðŸ§°",title:"DevTools"},{icon:"ðŸ”",title:"Security"}];function resolveCapabilities(e){return(Array.isArray(e?.capabilities?.items)&&e.capabilities.items.length?e.capabilities.items:FALLBACK_CAPABILITIES_ITEMS).map((e,t)=>{const n=FALLBACK_CAPABILITIES_ITEMS[t%FALLBACK_CAPABILITIES_ITEMS.length];return{icon:e.icon||n.icon,title:e.title||e.label||n.title}})}const PLACEHOLDER_BLOCK_REGEX=/this is an editable page/i;function sanitizeBlocks(e){return Array.isArray(e)?e.filter(e=>"richText"!==e?.type||"string"==typeof e?.html&&!PLACEHOLDER_BLOCK_REGEX.test(e.html)):[]}function renderCapabilitiesSection(e){const t=document.getElementById("capabilities-grid");if(!t)return;const n=resolveCapabilities(e);t.innerHTML="",n.forEach((e,n)=>{const o=document.createElement("div");o.className="capability-card",o.style.animationDelay=.1*n+"s",o.innerHTML=sanitizeHTML(`\n      <div class="capability-icon">${e.icon||"ðŸš€"}</div>\n      <h4 class="capability-title">${e.title||"Skill"}</h4>\n    `),t.appendChild(o)})}function initHeroHeadlineDustSwap(){if(window.__heroHeadlineDustBound)return;const e=document.querySelector(".hero"),t=document.querySelector(".hero .glitch");if(!e||!t)return;const n=(t.textContent||"").trim(),o=n.length>0;window.__heroHeadlineDustBound=!0;const a=document.createElement("canvas");a.className="hero-dust-canvas",e.appendChild(a);const i=a.getContext("2d");if(!i)return;const r={particles:[],phase:"idle",phaseStart:0,swirlCenter:{x:0,y:0},targetRect:null,running:!1,baseText:n,nextText:o?"Lorem Ipsum this!":"",allowSwap:o};function c(){const t=Math.max(1,window.devicePixelRatio||1);a.width=Math.floor(e.clientWidth*t),a.height=Math.floor(e.clientHeight*t),a.style.width=e.clientWidth+"px",a.style.height=e.clientHeight+"px",i.setTransform(t,0,0,t,0,0)}function l(t){const n=e.getBoundingClientRect(),o=t.getBoundingClientRect();return{x:o.left-n.left,y:o.top-n.top,w:o.width,h:o.height,cx:o.left-n.left+o.width/2,cy:o.top-n.top+o.height/2}}function s(){if((t.textContent||"").trim().length)return l(t);return l(e.querySelector(".glitch-wrapper")||e.querySelector(".hero-panel")||e)}function d(e,t){return e+Math.random()*(t-e)}function m(e){r.phase=e,r.phaseStart=performance.now()}function p(n){const o=(n-r.phaseStart)/1e3,a=.6+.4*Math.sin(n/300);if(i.clearRect(0,0,e.clientWidth,e.clientHeight),i.save(),i.globalCompositeOperation="lighter",i.fillStyle="#c6ff00",i.shadowColor="#c6ff00",i.shadowBlur=18,r.particles.forEach(e=>{if("dissolve"===r.phase){const t=e.dx-e.x,o=e.dy-e.y;e.vx+=9e-4*t,e.vy+=9e-4*o;const a=e.x-r.swirlCenter.x,i=e.y-r.swirlCenter.y,c=Math.max(1,Math.hypot(a,i)),l=-i/c,s=a/c,d=.7;e.vx+=l*d*.012+.08+.01*Math.sin((n+e.seed)/420),e.vy+=s*d*.012-.02+.01*Math.cos((n+e.seed)/420),e.vx*=.992,e.vy*=.992}if("regroup"===r.phase&&r.targetRect){const t=e.tx-e.x,n=e.ty-e.y;e.vx+=.0016*t,e.vy+=.0016*n,e.vx*=.94,e.vy*=.94}e.x+=e.vx,e.y+=e.vy;const t=Math.max(0,Math.min(1,e.alpha*a));i.globalAlpha=t,i.beginPath(),i.arc(e.x,e.y,e.size,0,2*Math.PI),i.fill()}),i.restore(),"dissolve"===r.phase&&o>2.2&&m("linger"),"linger"===r.phase&&o>1.2){if(r.allowSwap){const e=r.nextText||"";t.textContent=e,e?t.setAttribute("data-text",e):t.removeAttribute("data-text")}const e=s();c={x:e.x,y:e.y,w:e.w,h:e.h},r.targetRect=c,r.particles.forEach(e=>{e.tx=d(c.x,c.x+c.w),e.ty=d(c.y,c.y+c.h)}),m("regroup"),window.setTimeout(()=>t.classList.remove("is-hidden"),400)}var c;if("regroup"===r.phase&&o>2.4&&m("fade"),"fade"===r.phase){const e=Math.max(0,1-o/1.2);if(r.particles.forEach(e=>{e.alpha*=.985,e.size*=.995}),e<=.02){r.running=!1,r.particles=[],r.phase="done";const e=4200;window.setTimeout(()=>{r.running||(r.allowSwap?r.nextText=r.nextText===r.baseText?"Lorem Ipsum this!":r.baseText:r.nextText="",u())},e)}}r.running&&window.requestAnimationFrame(p)}function u(){c();const n=s();r.swirlCenter={x:n.cx,y:n.cy};const o=Math.floor(Math.max(120,Math.min(260,n.w*n.h/420)));r.particles=function(t,n){const o=[];for(let a=0;a<n;a++){const n=d(t.x,t.x+t.w),a=d(t.y,t.y+t.h),i=d(0,2*Math.PI),r=d(.15,.9);o.push({x:n,y:a,vx:Math.cos(i)*r,vy:Math.sin(i)*r,size:d(.4,1.2),alpha:d(.18,.55),seed:1e3*Math.random(),tx:n,ty:a,dx:d(0,e.clientWidth),dy:d(0,e.clientHeight)})}return o}(n,o),r.particles.forEach(t=>{t.dx=d(0,e.clientWidth),t.dy=d(0,e.clientHeight)}),t.classList.add("is-hidden"),m("dissolve"),r.running=!0,window.requestAnimationFrame(p)}window.addEventListener("resize",c),c(),window.setTimeout(()=>{"idle"===r.phase&&u()},3200)}function applyHomeLayout(e){const t=document.getElementById("home-sections");if(!t)return;const n={hero:document.querySelector(".hero"),about:ensureHomeAboutSection(e),projects:document.getElementById("projects"),contact:document.getElementById("contact"),footer:document.querySelector(".footer")},o=["hero","about","projects","contact","footer"];let a=Array.isArray(e?.homeLayout?.sections)?[...e.homeLayout.sections]:o.map(e=>({id:e,enabled:!0}));o.forEach(e=>{a.some(t=>(t?.id||"").toLowerCase()===e)||a.push({id:e,enabled:!0})});const i=o;a=a.map((e,t)=>({section:e,idx:t})).sort((e,t)=>{const n=i.indexOf((e.section?.id||"").toLowerCase()),o=i.indexOf((t.section?.id||"").toLowerCase());return(-1===n?i.length+e.idx:n)-(-1===o?i.length+t.idx:o)}).map(e=>e.section),a.forEach(e=>{const o=n[e.id];o&&(t.appendChild(o),o.style.display=e.enabled?"":"none")})}function ensureHomeAboutSection(e){const t="about";let n=document.getElementById(t);n||(n=document.createElement("section"),n.id=t,n.className="section about-section");const o=(Array.isArray(e?.pages)?e.pages:[]).find(e=>"about"===(e?.slug||"").toLowerCase()),a=sanitizeBlocks(Array.isArray(o?.blocks)?o.blocks:[]);n.innerHTML="";const i=document.createElement("div");i.className="section-header",i.innerHTML='<span class="section-tag">about</span><h2 class="section-title">About</h2>',n.appendChild(i);const r=document.createElement("div");r.className="about-shell";const c=document.createElement("div");c.className="about-grid";const l=o&&"object"==typeof o.aboutCard&&o.aboutCard?o.aboutCard:e&&"object"==typeof e.aboutCard&&e.aboutCard?e.aboutCard:{},s=document.createElement("div");s.className="about-panel";const d=document.createElement("div");d.className="content-container";const m=document.createElement("div");m.className="content-top";const p=document.createElement("div");p.className="card-category",p.textContent="About";const u=document.createElement("div");u.className="card-app-type",u.textContent="string"==typeof l?.meta?l.meta:"Product-minded developer â€¢ Sci-fi UI systems";const h=document.createElement("h3");h.className="card-title",h.textContent="string"==typeof l?.title&&l.title.trim()?l.title:"About Me",m.append(p,u,h);const f=document.createElement("div");f.className="divider";const y=document.createElement("div");y.className="content-bottom";const g=buildAboutCard(l);y.appendChild(g),d.append(m,f,y),s.appendChild(d),c.appendChild(s);const v=document.createElement("div");v.className="skills-panel";const b=document.createElement("div");b.className="content-container";const w=document.createElement("div");w.className="content-top";const C=document.createElement("div");C.className="card-category",C.textContent="Skills";const E=document.createElement("div");E.className="card-app-type",E.textContent="Core Capabilities";const x=document.createElement("h3");x.className="card-title",x.textContent="Core Skills",w.append(C,E,x);const S=document.createElement("div");S.className="divider";const L=document.createElement("div");L.className="content-bottom";const A=document.createElement("div");A.className="capabilities-grid",A.id="about-capabilities-grid";resolveCapabilities(e).forEach((e,t)=>{const n=document.createElement("div");n.className="capability-card",n.style.animationDelay=.1*t+"s",n.innerHTML=`\n      <div class="capability-icon">${e.icon||"ðŸš€"}</div>\n      <h4 class="capability-title">${e.title||"Skill"}</h4>\n    `,A.appendChild(n)}),L.appendChild(A),b.append(w,S,L),v.appendChild(b),c.appendChild(v),r.appendChild(c),n.appendChild(r);const M=n.querySelector(".about-highlights");M&&M.remove();const T=a.find(e=>"richText"===e?.type&&"string"==typeof e?.html&&e.html.trim());if(T){const e=document.createElement("div");e.className="about-rich",e.innerHTML=sanitizeHTML(String(T.html)),n.appendChild(e)}return n}function renderPageFromConfig(e){const t=document.getElementById("page-content");if(!t)return;const n=getActivePageSlug(e),o=Array.isArray(e?.pages)?e.pages:[],a=o.find(e=>(e?.slug||"").toLowerCase()===n)||o[0],i=!a||"home"===a.template||"home"===n;if(setHomeVisibility(i),i)return t.innerHTML="",void applyHomeLayout(e);t.innerHTML="";if(sanitizeBlocks(Array.isArray(a?.blocks)?a.blocks:[]).forEach(e=>{if("richText"===e?.type){const n=document.createElement("section");n.className="section";const o=document.createElement("div");o.className="section-header",o.innerHTML=sanitizeHTML(e?.html||""),n.appendChild(o),t.appendChild(n)}}),"about"===n){const n=document.createElement("section");n.className="section about-section";const o=document.createElement("div");o.className="about-shell";const i=document.createElement("div");i.className="about-grid";const r=a&&"object"==typeof a.aboutCard&&a.aboutCard?a.aboutCard:e&&"object"==typeof e.aboutCard&&e.aboutCard?e.aboutCard:{},c=document.createElement("div");c.className="about-panel";const l=document.createElement("div");l.className="content-container";const s=document.createElement("div");s.className="content-top";const d=document.createElement("div");d.className="card-category",d.textContent="About";const m=document.createElement("div");m.className="card-app-type",m.textContent="string"==typeof r?.meta?r.meta:"Product-minded developer â€¢ Sci-fi UI systems";const p=document.createElement("h3");p.className="card-title",p.textContent="string"==typeof r?.title&&r.title.trim()?r.title:"About Me",s.append(d,m,p);const u=document.createElement("div");u.className="divider";const h=document.createElement("div");h.className="content-bottom";const f=buildAboutCard(r);h.appendChild(f),l.append(s,u,h),c.appendChild(l),i.appendChild(c);const y=document.createElement("div");y.className="skills-panel";const g=document.createElement("div");g.className="content-container";const v=document.createElement("div");v.className="content-top";const b=document.createElement("div");b.className="card-category",b.textContent="Skills";const w=document.createElement("div");w.className="card-app-type",w.textContent="Core Capabilities";const C=document.createElement("h3");C.className="card-title",C.textContent="Core Skills",v.append(b,w,C);const E=document.createElement("div");E.className="divider";const x=document.createElement("div");x.className="content-bottom";const S=document.createElement("div");S.className="capabilities-grid",S.id="about-capabilities-grid";[{icon:"âš›ï¸",title:"React"},{icon:"TS",title:"TypeScript"},{icon:"ðŸ› ï¸",title:"Full-Stack"},{icon:"ðŸ¤–",title:"AI/ML"},{icon:"â›“ï¸",title:"Microservices"},{icon:"âš¡",title:"Real-time"},{icon:"ðŸ“Š",title:"Data Viz"},{icon:"ðŸŽ¨",title:"Design"},{icon:"ðŸ§°",title:"DevTools"},{icon:"ðŸ”",title:"Security"}].forEach((e,t)=>{const n=document.createElement("div");n.className="capability-card",n.style.animationDelay=.1*t+"s",n.innerHTML=`\n        <div class="capability-icon">${e.icon||"ðŸš€"}</div>\n        <h4 class="capability-title">${e.title||"Skill"}</h4>\n      `,S.appendChild(n)}),x.appendChild(S),g.append(v,E,x),y.appendChild(g),i.appendChild(y),o.appendChild(i),n.appendChild(o),t.appendChild(n)}}function buildAboutCard(e){"string"==typeof e?.base&&e.base,"string"==typeof e?.meta&&e.meta,"string"==typeof e?.body&&e.body.trim()&&e.body;const t=Array.isArray(e?.tags)?e.tags:["Design Systems","TypeScript","UX","Performance"],n=document.createElement("div");n.className="about-content";const o=document.createElement("p");o.className="about-description",o.textContent="string"==typeof e?.description&&e.description.trim()?e.description:"Elegant UI, clean architecture, and small details that make products feel alive.";const a=document.createElement("div");return a.className="about-tags",Array.isArray(t)&&t.forEach(e=>{const t=document.createElement("span");t.className="tag",t.textContent=e,a.appendChild(t)}),n.appendChild(o),n.appendChild(a),n}function appendAboutHighlights(e,t){const n=Array.isArray(t?.highlights)?t.highlights:[];if(!n.length)return;const o=document.createElement("div");o.className="about-highlights",n.forEach(e=>{if(!e?.label||!e?.value)return;const t=document.createElement("div");t.className="about-highlight";const n=document.createElement("span");n.className="about-highlight-label",n.textContent=e.label;const a=document.createElement("p");a.className="about-highlight-value",a.textContent=e.value,t.append(n,a),o.appendChild(t)}),e.appendChild(o)}function updateDomFromConfig(e){function t(e,t){if(!t||!String(t).trim())return;let n=document.head.querySelector(`meta[property="${e}"]`);n||(n=document.createElement("meta"),n.setAttribute("property",e),document.head.appendChild(n)),n.setAttribute("content",String(t))}renderCapabilitiesSection(e);const n=Array.isArray(e?.mediaLibrary)?e.mediaLibrary:[],o=e?.seo||{},a=o?.metaTitle||e?.brand?.siteTitle||document.title;a&&(document.title=a),o?.metaDescription&&function(e,t){if(!t||!String(t).trim())return;let n=document.head.querySelector(`meta[name="${e}"]`);n||(n=document.createElement("meta"),n.setAttribute("name",e),document.head.appendChild(n)),n.setAttribute("content",String(t))}("description",o.metaDescription),t("og:title",a),o?.metaDescription&&t("og:description",o.metaDescription);const i=n.find(e=>e?.id&&e.id===o?.ogImageAssetId);i?.dataUrl&&t("og:image",i.dataUrl);const r=n.find(e=>e?.id&&e.id===o?.faviconAssetId);r?.dataUrl&&function(e,t){if(!t||!String(t).trim())return;let n=document.head.querySelector(`link[rel="${e}"]`);n||(n=document.createElement("link"),n.setAttribute("rel",e),document.head.appendChild(n)),n.setAttribute("href",String(t))}("icon",r.dataUrl);const c=document.querySelector(".logo");if(c){const g=e?.media?.logoDataUrl;if("string"==typeof g&&g.startsWith("data:image")){c.innerHTML="";const v=document.createElement("img");v.src=g,v.alt=e?.brand?.logoText||"Logo",v.style.height="28px",v.style.width="auto",v.style.display="block",c.appendChild(v)}else e?.brand?.logoText&&(c.textContent=e.brand.logoText)}const l=document.querySelector(".glitch");l&&e?.hero?.headline&&(l.textContent=e.hero.headline,l.setAttribute("data-text",e.hero.headline));const s=document.querySelector(".typing-text");s&&e?.hero?.typingText&&(s.textContent=e.hero.typingText);const d=document.querySelector(".hero-description");d&&"string"==typeof e?.hero?.description&&(d.textContent=e.hero.description);const m=document.querySelector(".hero .cta-btn");m&&(e?.hero?.ctaText&&(m.textContent=e.hero.ctaText),e?.hero?.ctaHref&&m.setAttribute("href",e.hero.ctaHref));const p=document.querySelector("#contact .cta-title");p&&e?.contact?.title&&(p.textContent=e.contact.title);const u=document.querySelector("#contact .cta-subtitle");u&&e?.contact?.subtitle&&(u.textContent=e.contact.subtitle);const h=document.getElementById("contact-grid");if(h){h.innerHTML="";const b=e?.contact?.email||"hello@example.com",w=el("div","contact-panel"),C=document.createElement("form");function f(e,t){const n=document.createElement("div");n.className="field";const o=document.createElement("label");return o.textContent=e,n.appendChild(o),n.appendChild(t),n}C.className="contact-form",C.noValidate=!0;const E=document.createElement("div");E.className="contact-form-row";const x=document.createElement("input");x.type="text",x.autocomplete="name",x.placeholder="Your name",x.required=!0;const S=document.createElement("input");S.type="email",S.autocomplete="email",S.placeholder="you@example.com",S.required=!0,E.append(f("Name",x),f("Email",S));const L=document.createElement("input");L.type="text",L.placeholder="Subject",L.required=!0;const A=document.createElement("textarea");A.placeholder="Your message",A.required=!0;const M=document.createElement("div");M.className="contact-form-actions";const T=document.createElement("button");T.type="submit",T.className="contact-submit",T.textContent="Send";const N=document.createElement("div");N.className="contact-note",N.textContent="Opens your email client (no backend).",M.append(T,N),C.append(E,f("Subject",L),f("Message",A),M),C.addEventListener("submit",e=>{if(e.preventDefault(),!C.reportValidity())return;const t=x.value.trim(),n=S.value.trim(),o=L.value.trim(),a=[];t&&a.push(`Name: ${t}`),n&&a.push(`Email: ${n}`),a.push(""),a.push(A.value.trim());const i=encodeURIComponent(o||"Website contact"),r=encodeURIComponent(a.join("\n"));window.location.href=`mailto:${encodeURIComponent(b)}?subject=${i}&body=${r}`});const I=el("div","content-container"),k=el("div","content-top"),H=el("div","content-bottom"),q=el("div","card-category");q.textContent="Contact";const D=el("div","card-app-type");D.textContent="Message";const B=el("h3","card-title");B.textContent="Send a Signal";const _=el("div","divider");k.append(q,D,B),H.appendChild(C),I.append(k,_,H),w.appendChild(I);const P=el("div","contact-panel"),R=el("div","content-container"),$=el("div","content-top"),j=el("div","content-bottom"),F=el("div","card-category");F.textContent="Identity";const W=el("div","card-app-type");W.textContent="E-Visitcard";const U=el("h3","card-title");U.textContent=e?.brand?.siteTitle||"Portfolio";const z=el("p","card-description");z.textContent=e?.hero?.headline||"";const Y=el("div","card-tags"),X=el("span","tag"),V=document.createElement("a");V.href=`mailto:${b}`,V.textContent=b,X.appendChild(V),Y.appendChild(X);const O=e?.social||{};[{label:"GitHub",href:O.github},{label:"LinkedIn",href:O.linkedin},{label:"X",href:O.twitter}].filter(e=>"string"==typeof e.href&&e.href.trim()).forEach(e=>{const t=el("span","tag"),n=document.createElement("a");n.href=e.href,n.target="_blank",n.rel="noreferrer",n.textContent=e.label,t.appendChild(n),Y.appendChild(t)});const K=el("div","divider");$.append(F,W,U),j.append(z,Y),R.append($,K,j),P.appendChild(R),h.append(w,P)}const y=document.querySelector(".footer p");if(y){const G=e?.footer?.text;"string"==typeof G&&G.trim()&&(y.textContent=G)}window.SiteTemplate?.applyTheme&&window.SiteTemplate.applyTheme(e)}function renderCardsFromConfig(e){const t=document.getElementById("projects-grid");if(!t)return{cards:[],elements:[],dots:[]};t.innerHTML="",stopCycle();const n=Array.isArray(e?.elements)&&e.elements.length?e.elements:["electric","fire","water","alien","solar","bio"],o=(Array.isArray(e?.projects)?e.projects:[]).map(e=>buildCard(e));o.forEach(e=>t.appendChild(e));const a=Array.from(document.querySelectorAll(".element-dot"));return window.__currentElementIndex=0,applyInitialCardState(o,n),startCycle(o,a,n),initTilt(o),a.forEach((e,t)=>{e.onclick=()=>{stopCycle(),window.__currentElementIndex=t;const i=window.__currentElementIndex;o.forEach((e,t)=>{setCardElement(e,n[(i+t)%n.length])}),a.forEach(e=>e.classList.remove("active")),e.classList.add("active"),window.setTimeout(()=>startCycle(o,a,n),1e4)}}),{cards:o,elements:n,dots:a}}function buildCard(e){const t=el("div","elemental-card reveal");t.dataset.element=e.base,t.tabIndex=0,t.setAttribute("role","button"),t.setAttribute("aria-pressed","false");const n=el("div","card-decor");t.appendChild(n);const o=el("div","card-flip"),a=el("div","card-face front"),i=el("div","card-face back");o.append(a,i),t.appendChild(o);const r=el("div","card-frame electric-frame");r.appendChild(el("div","card-inner"));const c=el("div","card-frame fire-frame");c.appendChild(el("div","card-inner"));const l=el("div","card-frame water-frame");l.appendChild(el("div","card-inner"));const s=el("div","card-frame alien-frame");s.appendChild(el("div","card-inner"));const d=el("div","card-frame solar-frame");d.appendChild(el("div","card-inner"));const m=el("div","card-frame bio-frame");m.appendChild(el("div","card-inner")),n.append(r,c,l,s,d,m);const p=el("div","border-animation");n.appendChild(p);const u=el("div","glow-container electric-glow");u.append(el("div","glow-orb glow-orb-1"),el("div","glow-orb glow-orb-2"),el("div","glow-orb glow-orb-3"));const h=el("div","glow-container fire-glow");h.append(el("div","glow-orb glow-orb-1"),el("div","glow-orb glow-orb-2"),el("div","glow-orb glow-orb-3"),el("div","fire-wave"));const f=el("div","glow-container water-glow"),y=el("div","water-ripples");f.append(el("div","glow-orb glow-orb-1"),el("div","glow-orb glow-orb-2"),el("div","glow-orb glow-orb-3"),y);const g=el("div","glow-container alien-glow");g.append(el("div","glow-orb glow-orb-1"),el("div","glow-orb glow-orb-2"),el("div","glow-orb glow-orb-3"),el("div","alien-portal"));const v=el("div","glow-container solar-glow"),b=el("div","sun-core"),w=el("div","sun-halo"),C=el("div","sun-halo-2");v.append(el("div","glow-orb glow-orb-1"),el("div","glow-orb glow-orb-2"),b,w,C);const E=el("div","glow-container bio-glow"),x=el("div","bio-ring"),S=el("div","bio-node"),L=el("div","bio-node"),A=el("div","bio-node");E.append(el("div","glow-orb glow-orb-1"),el("div","glow-orb glow-orb-2"),x,S,L,A),n.append(u,h,f,g,v,E);const M=el("div","filter-layer electric-filter"),T=el("div","filter-layer fire-filter"),N=el("div","filter-layer water-filter"),I=el("div","filter-layer alien-filter"),k=el("div","filter-layer solar-filter"),H=el("div","filter-layer bio-filter");n.append(M,T,N,I,k,H);const q=el("div","chromatic-layer");n.appendChild(q);const D=el("div","element-particles electric-particles"),B=el("div","element-particles fire-particles"),_=el("div","element-particles water-particles"),P=el("div","element-particles alien-particles"),R=el("div","element-particles solar-particles"),$=el("div","element-particles bio-particles");n.append(D,B,_,P,R,$);const j=el("div","content-container"),F=el("div","content-top"),W=el("div","content-bottom"),U=el("div","card-category");U.textContent=e.category;const z=el("div","card-app-type");z.textContent=e.appType;const Y=el("h3","card-title");Y.textContent=e.title;const X=el("div","divider"),V=el("p","card-description");V.textContent=e.description;const O=el("div","card-tags");e.tags.forEach(e=>{const t=el("span","tag");t.textContent=e,O.appendChild(t)}),F.append(U,z,Y),W.append(V,O),j.append(F,X,W),a.appendChild(j);for(let e=0;e<15;e++){const e=el("div","particle");e.style.left=100*Math.random()+"%",e.style.top=100*Math.random()+"%",e.style.animationDelay=.5*Math.random()+"s",D.appendChild(e)}for(let e=0;e<20;e++){const e=el("div","ember");e.style.left=100*Math.random()+"%",e.style.animationDelay=3*Math.random()+"s",e.style.animationDuration=2+2*Math.random()+"s",B.appendChild(e)}for(let e=0;e<15;e++){const e=el("div","bubble");e.style.left=100*Math.random()+"%";const t=5+15*Math.random();e.style.width=t+"px",e.style.height=t+"px",e.style.animationDelay=4*Math.random()+"s",e.style.animationDuration=3+2*Math.random()+"s",_.appendChild(e)}for(let e=0;e<3;e++){const t=el("div","ripple");t.style.left=20+60*Math.random()+"%",t.style.top=20+60*Math.random()+"%",t.style.animationDelay=e+"s",y.appendChild(t)}for(let e=0;e<12;e++){const e=el("div","spore");e.style.left=100*Math.random()+"%",e.style.bottom=50*Math.random()+"%",e.style.animationDelay=5*Math.random()+"s",e.style.animationDuration=4+3*Math.random()+"s",P.appendChild(e)}for(let e=0;e<18;e++){const e=el("div","spark");e.style.left=100*Math.random()+"%",e.style.bottom=50*Math.random()+"%",e.style.animationDelay=3*Math.random()+"s",e.style.animationDuration=2.5+1.5*Math.random()+"s",R.appendChild(e)}for(let e=0;e<16;e++){const e=el("div","spore-bio");e.style.left=100*Math.random()+"%",e.style.bottom=60*Math.random()+"%",e.style.animationDelay=3*Math.random()+"s",e.style.animationDuration=3+2*Math.random()+"s",$.appendChild(e)}const K=document.createElement("h3");K.className="card-back-title",K.textContent=e.title||"Project";const G=document.createElement("div");G.className="card-back-meta",G.textContent=`${e.category||""}${e.appType?" â€¢ "+e.appType:""}`.trim();const J=document.createElement("div");J.className="card-back-body",J.textContent="Card back content is intentionally a placeholder. Tell me what you want here (links, screenshots, metrics, story, stack, etc.).";const Q=document.createElement("div");Q.className="card-back-tags",(Array.isArray(e.tags)?e.tags:[]).forEach(e=>{const t=el("span","tag");t.textContent=e,Q.appendChild(t)});const Z=document.createElement("div");Z.className="card-back-hint",Z.textContent="Click to flip back";const ee=document.createElement("div");function te(){const e=!t.classList.contains("is-flipped");t.classList.toggle("is-flipped",e),t.setAttribute("aria-pressed",String(e))}return ee.append(K,G,J,Q),i.append(ee,Z),e?.disableFlip||(t.addEventListener("click",te),t.addEventListener("keydown",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),te())})),t}function setCardElement(e,t){e.dataset.element=t,e.querySelectorAll(".card-frame").forEach(e=>e.classList.remove("active"));const n=e.querySelector(`.${t}-frame`);n&&n.classList.add("active"),e.querySelectorAll(".glow-container").forEach(e=>e.classList.remove("active"));const o=e.querySelector(`.${t}-glow`);o&&o.classList.add("active"),e.querySelectorAll(".filter-layer").forEach(e=>e.classList.remove("active"));const a=e.querySelector(`.${t}-filter`);a&&a.classList.add("active"),e.querySelectorAll(".element-particles").forEach(e=>e.classList.remove("active"));const i=e.querySelector(`.${t}-particles`);i&&i.classList.add("active");const r=e.querySelector(".chromatic-layer");r&&r.classList.toggle("active","alien"===t)}function applyInitialCardState(e,t){e.forEach((e,n)=>{setCardElement(e,t[(n+0)%t.length])})}function cycleElements(e,t,n){window.__currentElementIndex=(window.__currentElementIndex+1)%n.length;const o=window.__currentElementIndex;e.forEach((e,t)=>{setCardElement(e,n[(o+t)%n.length])}),t.forEach(e=>e.classList.remove("active")),t[o]?.classList.add("active")}function startCycle(e,t,n){window.__cycleInterval=window.setInterval(()=>cycleElements(e,t,n),5e3)}function stopCycle(){window.__cycleInterval&&window.clearInterval(window.__cycleInterval)}function initCursor(){const e=document.querySelector(".cursor"),t=document.querySelector(".cursor-dot");if(!e||!t)return;document.addEventListener("mousemove",n=>{e.style.left=n.clientX+"px",e.style.top=n.clientY+"px",t.style.left=n.clientX+"px",t.style.top=n.clientY+"px"});document.querySelectorAll("a, button, .elemental-card, .nav-link, .element-dot").forEach(t=>{t.addEventListener("mouseenter",()=>e.classList.add("hover")),t.addEventListener("mouseleave",()=>e.classList.remove("hover"))})}function initBackgroundParticles(){const e=document.getElementById("particles-canvas");if(!e)return;const t=e.getContext("2d");if(!t)return;let n=[];function o(){const n=Math.max(1,window.devicePixelRatio||1);e.width=Math.floor(window.innerWidth*n),e.height=Math.floor(window.innerHeight*n),e.style.width=window.innerWidth+"px",e.style.height=window.innerHeight+"px",t.setTransform(n,0,0,n,0,0)}class a{constructor(){this.reset()}reset(){this.x=Math.random()*window.innerWidth,this.y=Math.random()*window.innerHeight,this.size=2*Math.random()+.5,this.speedX=.5*(Math.random()-.5),this.speedY=.5*(Math.random()-.5),this.opacity=.5*Math.random()+.2}update(){this.x+=this.speedX,this.y+=this.speedY,(this.x<0||this.x>window.innerWidth)&&(this.speedX*=-1),(this.y<0||this.y>window.innerHeight)&&(this.speedY*=-1)}draw(){t.beginPath(),t.arc(this.x,this.y,this.size,0,2*Math.PI),t.fillStyle=`rgba(221, 132, 72, ${this.opacity})`,t.fill()}}function i(){n=[];for(let e=0;e<80;e++)n.push(new a)}window.addEventListener("resize",()=>{o(),i()}),o(),i(),function e(){t.clearRect(0,0,window.innerWidth,window.innerHeight),n.forEach(e=>{e.update(),e.draw()}),function(){for(let e=0;e<n.length;e++)for(let o=e+1;o<n.length;o++){const a=n[e].x-n[o].x,i=n[e].y-n[o].y,r=Math.sqrt(a*a+i*i);r<120&&(t.beginPath(),t.strokeStyle=`rgba(221, 132, 72, ${.08*(1-r/120)})`,t.lineWidth=.5,t.moveTo(n[e].x,n[e].y),t.lineTo(n[o].x,n[o].y),t.stroke())}}(),window.requestAnimationFrame(e)}()}function initReveal(){if(window.__revealBound){return void document.querySelectorAll(".reveal").forEach(e=>{const t=window.innerHeight;e.getBoundingClientRect().top<t-150&&e.classList.add("active")})}window.__revealBound=!0;let e=0;function t(){e=0;document.querySelectorAll(".reveal").forEach(e=>{const t=window.innerHeight;e.getBoundingClientRect().top<t-150&&e.classList.add("active")})}function n(){e||(e=window.requestAnimationFrame(t))}window.addEventListener("scroll",n,{passive:!0}),n()}function initTilt(e){e.forEach(e=>{e.addEventListener("mousemove",t=>{if(e.classList.contains("is-flipped"))return;const n=e.getBoundingClientRect(),o=t.clientX-n.left,a=t.clientY-n.top,i=n.width/2,r=(a-n.height/2)/25,c=(i-o)/25;e.style.transform=`translateY(-15px) rotateX(${r}deg) rotateY(${c}deg)`}),e.addEventListener("mouseleave",()=>{e.style.transform="translateY(0) rotateX(0) rotateY(0)"})})}function initNavbarScroll(){const e=document.querySelector(".navbar");if(!e)return;let t=0,n=null;function o(){t=0;const o=window.scrollY>100;if(o!==n){if(n=o,o)return e.style.background="rgba(10, 10, 15, 0.95)",void(e.style.boxShadow="0 0 40px rgba(221, 132, 72, 0.2)");e.style.background="rgba(10, 10, 15, 0.8)",e.style.boxShadow="0 0 30px rgba(221, 132, 72, 0.1)"}}function a(){t||(t=window.requestAnimationFrame(o))}window.addEventListener("scroll",a,{passive:!0}),a()}function initSmoothScroll(){document.addEventListener("click",e=>{const t=e.target?.closest?.("a");if(!t)return;const n=t.getAttribute("href");if(n){if(n.startsWith("#")){const t=document.querySelector(n);return void(t&&(e.preventDefault(),t.scrollIntoView({behavior:"smooth",block:"start"})))}if(n.includes("#")){let t;try{t=new URL(n,window.location.href)}catch{return}if(!(t.pathname===window.location.pathname))return;if(!t.hash)return;const o=document.querySelector(t.hash);if(!o)return;e.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start"})}}})}function init(){initCursor(),initBackgroundParticles(),initReveal(),initNavbarScroll(),initSmoothScroll(),initHeroHeadlineDustSwap();const e=getMode();function t(t){try{updateDomFromConfig(t)}catch(e){console.error("updateDomFromConfig failed",e)}try{renderMenuFromConfig(t,e)}catch(e){console.error("renderMenuFromConfig failed",e)}try{renderPageFromConfig(t)}catch(e){console.error("renderPageFromConfig failed",e)}try{renderCardsFromConfig(t)}catch(e){console.error("renderCardsFromConfig failed",e)}try{initReveal()}catch(e){console.error("initReveal failed",e)}window.setTimeout(scrollToHashIfPresent,0)}t(getConfig()),window.SiteTemplate?.subscribe&&window.SiteTemplate.subscribe(e=>t(e),{mode:e})}document.addEventListener("DOMContentLoaded",init);